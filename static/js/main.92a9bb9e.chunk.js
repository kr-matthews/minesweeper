(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),s=n(9),a=n.n(s),i=n(2),u=n(5),o=n(3);function l(e,t){return e[t]}var j=n(8),d=[[-1,1],[0,1],[1,1],[1,0],[1,-1],[0,-1],[-1,-1],[-1,0]];function b(e,t){for(var n=[],r=0;r<e;r++){for(var c=[],s=0;s<t;s++)c.push({state:"hide",adjCount:0});n.push(c)}return n}function f(e,t,n,r,c){var s=function(e,t){for(var n=[],r=0;r<e;r++)r<t?n.push(!0):n.push(!1);return function(e){for(var t=0;t<e.length;t++){var n=m(t,e.length-1),r=[e[n],e[t]];e[t]=r[0],e[n]=r[1]}return e}(n)}(r.length*r[0].length-1,n);!function(e,t){e.splice(t,0,!1)}(s,e*r[0].length+t),function(e,t,n){for(var r=Object(j.a)(t),c=0;c<t.length;c++)for(var s=0;s<t[0].length;s++)r[c][s].hasMine=e[c*t[0].length+s];n(r)}(s,r,c),function(e,t){for(var n=Object(j.a)(e),r=function(t){for(var r=function(r){(function(e,t,n,r){return d.map((function(n){var r=Object(i.a)(n,2),c=r[0],s=r[1];return[e+c,t+s]})).filter((function(e){var t=Object(i.a)(e,2),c=t[0],s=t[1];return 0<=c&&c<n&&0<=s&&s<r}))})(t,r,e.length,e[0].length).forEach((function(c){var s=Object(i.a)(c,2),a=s[0],u=s[1];e[a][u].hasMine&&(n[t][r].adjCount+=1)}))},c=0;c<e[0].length;c++)r(c)},c=0;c<e.length;c++)r(c);t(n)}(r,c)}function m(e,t){return Math.floor(Math.random()*(t-e+1))+e}var h=n(0);function O(e,t,n,r){var c=e.rows,s=e.columns,a=e.mines;n("reset"),t(a),r(b(c,s))}function p(e,t,n,r,c,s,a){var i=s[e][t];"reset"===r&&(c("ongoing"),f(e,t,n,s,a)),"hide"!==i.state||i.hasMine?"hide"===i.state&&i.hasMine&&(c("lost"),console.log("I am presenting a loss")):console.log("I am doing a cascade."),console.log("I am checking a potential win.")}function v(e){var t=e.args,n=t.rowInd,r=t.colInd,c=t.hasMine,s=t.state,a=t.adjCount,i=t.mineCount,u=t.gameState,o=t.setGameState,l=t.field,j=t.setField;return Object(h.jsx)("td",{className:"cell",children:Object(h.jsx)("button",{type:"button",className:"clickable todo",onClick:function(){return p(n,r,i,u,o,l,j)},children:"hide"===s?c?"M":a:s})})}var x=function(e){var t=e.args,n=t.mineCount,r=t.gameState,c=t.setGameState,s=t.field,a=t.setField;return Object(h.jsx)("table",{className:"field",children:Object(h.jsx)("tbody",{children:s.map((function(e,t){return Object(h.jsx)("tr",{children:e.map((function(e,i){return Object(h.jsx)(v,{args:Object(o.a)(Object(o.a)({},e),{},{rowInd:t,colInd:i,mineCount:n,gameState:r,setGameState:c,field:s,setField:a})},i)}))},t)}))})})},g=["Easy","Medium","Hard"],w=["Rows","Columns","Mines"];function y(e,t){var n=t.rows,r=t.columns,c=t.mines;switch(e){case"mines":return 0<=c&&c<n*r;case"rows":return 0<n&&n<=24;case"columns":return 0<r&&r<=30;default:return!1}}function C(e){switch(e){case"easy":return{rows:9,columns:9,mines:10};case"medium":return{rows:16,columns:16,mines:40};case"hard":return{rows:16,columns:30,mines:99};default:return{rows:10,columns:10,mines:99}}}function S(e){var t=e.toLowerCase(),n=C(t);return t+": "+n.rows+"x"+n.columns+", "+n.mines+" mines"}function M(e){switch(e){case"rows":return"Must be between 1 and 24 inclusive.";case"columns":return"Must be between 1 and 30 inclusive.";case"mines":return"Must be fewer mines than cells.";default:return"An unknown error has occured."}}function F(e,t,n,r){var c=l(t,e);(r>0||c>0)&&n(Object(o.a)(Object(o.a)({},t),{},Object(u.a)({},e,c+r)))}function I(e){var t=e.difficulty,n=e.inputs,r=e.setInputs,c=t.toLowerCase();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("input",{type:"radio",id:c,name:"difficulty",value:c,checked:n.difficulty===c,onChange:function(e){return function(e,t,n){n(Object(o.a)(Object(o.a)({},t),{},{difficulty:e.target.value}))}(e,n,r)}}),Object(h.jsx)("label",{htmlFor:c,children:S(t)})]})}function k(e){var t=e.input,n=e.inputs,r=e.setInputs,c=t.toLowerCase();return Object(h.jsxs)("label",{htmlFor:c,children:[t,":",Object(h.jsx)("button",{type:"button",onClick:function(){return F(c,n,r,-1)},children:"-"}),Object(h.jsx)("input",{type:"text",id:c,name:c,value:l(n,c),onChange:function(e){return function(e,t,n,r){var c=e.target.value,s=+c;(function(e){return""===e||/^[0-9\b]+$/.test(e)})(c)&&n(Object(o.a)(Object(o.a)({},t),{},Object(u.a)({},r,s)))}(e,n,r,c)}}),Object(h.jsx)("button",{type:"button",onClick:function(){return F(c,n,r,1)},children:"+"}),y(c,n)?Object(h.jsx)("span",{style:{color:"green"},children:"\u2713"}):Object(h.jsxs)("span",{className:"toolcontainer",style:{color:"red"},children:["\u2717",Object(h.jsx)("span",{className:"tooltip",children:M(c)})]}),"Mines"===t&&Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{children:"Mine density:"}),n.rows>0&&n.columns>0?Math.round(100*n.mines/(n.rows*n.columns))+"%":"N/A"]})]})}var G=function(e){var t=e.args,n=t.setMineCount,c=t.setGameState,s=t.setField,a=Object(r.useState)({rows:9,columns:9,mines:10,difficulty:"easy"}),u=Object(i.a)(a,2),o=u[0],l=u[1];return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("p",{children:"Select a standard difficulty, or specify custom parameters."}),Object(h.jsx)("p",{children:"For a custom game, a mine density between 12% and 20% is recommended."}),g.map((function(e){return Object(h.jsx)(I,{difficulty:e,inputs:o,setInputs:l},e)})),Object(h.jsx)("button",{type:"button",onClick:function(){return function(e,t,n,r){O(C(e),t,n,r)}(o.difficulty,n,c,s)},children:"Start Standard Game"}),Object(h.jsx)("br",{}),w.map((function(e){return Object(h.jsx)(k,{input:e,inputs:o,setInputs:l},e)})),Object(h.jsx)("button",{type:"button",onClick:function(){return function(e,t,n,r){w.every((function(t){return y(t.toLowerCase(),e)}))?O(e,t,n,r):alert('Invalid parameters. However over red "x"s for details.')}(o,n,c,s)},children:"Start Custom Game"})]})};function N(){return Object(h.jsxs)("div",{children:[Object(h.jsx)("h3",{children:"Rules"}),Object(h.jsx)("p",{children:"Do this."}),Object(h.jsx)("p",{children:"Don't do that."})]})}var L=function(){var e=Object(r.useState)(!1),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{type:"button",onClick:function(){return c(!n)},children:n?"Hide Rules":"Show Rules"}),n&&Object(h.jsx)(N,{})]})};var R=function(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(L,{})})};n(15),n(16);var E=function(){var e=Object(r.useState)(10),t=Object(i.a)(e,2),n=t[0],c=t[1],s=Object(r.useState)("reset"),a=Object(i.a)(s,2),u=a[0],o=a[1],l=Object(r.useState)(b(9,9)),j=Object(i.a)(l,2),d=j[0],f=j[1];return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h1",{children:"Minesweeper"}),Object(h.jsx)(G,{args:{setMineCount:c,setGameState:o,setField:f}}),Object(h.jsx)(x,{args:{mineCount:n,gameState:u,setGameState:o,field:d,setField:f}}),Object(h.jsx)(R,{})]})};a.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(E,{})}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.92a9bb9e.chunk.js.map