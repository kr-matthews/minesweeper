(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var r=n(1),s=n.n(r),c=n(8),a=n.n(c),i=n(3),o=n(5),u=n(2);function l(e,t){return e[t]}var j=n(9);function d(e,t){for(var n=[],r=0;r<e;r++){for(var s=[],c=0;c<t;c++)s.push({state:"hide"});n.push(s)}return n}function b(e,t,n,r,s){console.log("I am generating mines.");var c=function(e,t){for(var n=[],r=0;r<e;r++)r<t?n.push(!0):n.push(!1);return function(e){for(var t=0;t<e.length;t++){var n=m(t,e.length-1),r=[e[n],e[t]];e[t]=r[0],e[n]=r[1]}return e}(n)}(r.length*r[0].length-1,n);!function(e,t){e.splice(t,0,!1)}(c,e*r[0].length+t),function(e,t,n){for(var r=Object(j.a)(t),s=0;s<t.length;s++)for(var c=0;c<t[0].length;c++)r[s][c].hasMine=e[s*t[0].length+c];n(r)}(c,r,s),alert("It only generates the random mine locations, you can't continue from here.")}function m(e,t){return Math.floor(Math.random()*(t-e+1))+e}var f=n(0);function h(e,t,n,r){var s=e.rows,c=e.columns,a=e.mines;n("reset"),t(a),r(d(s,c))}function O(e,t,n,r,s,c,a){var i=c[e][t];"reset"===r&&(s("ongoing"),b(e,t,n,c,a)),"hide"!==i.state||i.hasMine?"hide"===i.state&&i.hasMine&&(s("lost"),console.log("I am presenting a loss")):console.log("I am doing a cascade."),console.log("I am checking a potential win.")}function p(e){var t=e.args,n=t.rowInd,r=t.colInd,s=t.hasMine,c=t.state,a=t.adjCount,i=t.mineCount,o=t.gameState,u=t.setGameState,l=t.field,j=t.setField;return Object(f.jsx)("td",{className:"cell",children:Object(f.jsx)("button",{type:"button",className:"clickable todo",onClick:function(){return O(n,r,i,o,u,l,j)},children:"hide"===c?s?"M":a:c})})}var x=function(e){var t=e.args,n=t.mineCount,r=t.gameState,s=t.setGameState,c=t.field,a=t.setField;return Object(f.jsx)("table",{className:"field",children:Object(f.jsx)("tbody",{children:c.map((function(e,t){return Object(f.jsx)("tr",{children:e.map((function(e,i){return Object(f.jsx)(p,{args:Object(u.a)(Object(u.a)({},e),{},{rowInd:t,colInd:i,mineCount:n,gameState:r,setGameState:s,field:c,setField:a})},i)}))},t)}))})})},g=["Easy","Medium","Hard"],v=["Rows","Columns","Mines"];function w(e,t){var n=t.rows,r=t.columns,s=t.mines;switch(e){case"mines":return 0<=s&&s<n*r;case"rows":return 0<n&&n<=24;case"columns":return 0<r&&r<=30;default:return!1}}function y(e){switch(e){case"easy":return{rows:9,columns:9,mines:10};case"medium":return{rows:16,columns:16,mines:40};case"hard":return{rows:16,columns:30,mines:99};default:return{rows:10,columns:10,mines:99}}}function C(e){var t=e.toLowerCase(),n=y(t);return t+": "+n.rows+"x"+n.columns+", "+n.mines+" mines"}function S(e){switch(e){case"rows":return"Must be between 1 and 24 inclusive.";case"columns":return"Must be between 1 and 30 inclusive.";case"mines":return"Must be fewer mines than cells.";default:return"An unknown error has occured."}}function M(e,t,n,r){var s=l(t,e);(r>0||s>0)&&n(Object(u.a)(Object(u.a)({},t),{},Object(o.a)({},e,s+r)))}function I(e){var t=e.difficulty,n=e.inputs,r=e.setInputs,s=t.toLowerCase();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("input",{type:"radio",id:s,name:"difficulty",value:s,checked:n.difficulty===s,onChange:function(e){return function(e,t,n){n(Object(u.a)(Object(u.a)({},t),{},{difficulty:e.target.value}))}(e,n,r)}}),Object(f.jsx)("label",{htmlFor:s,children:C(t)})]})}function F(e){var t=e.input,n=e.inputs,r=e.setInputs,s=t.toLowerCase();return Object(f.jsxs)("label",{htmlFor:s,children:[t,":",Object(f.jsx)("button",{type:"button",onClick:function(){return M(s,n,r,-1)},children:"-"}),Object(f.jsx)("input",{type:"text",id:s,name:s,value:l(n,s),onChange:function(e){return function(e,t,n,r){var s=e.target.value,c=+s;(function(e){return""===e||/^[0-9\b]+$/.test(e)})(s)&&n(Object(u.a)(Object(u.a)({},t),{},Object(o.a)({},r,c)))}(e,n,r,s)}}),Object(f.jsx)("button",{type:"button",onClick:function(){return M(s,n,r,1)},children:"+"}),w(s,n)?Object(f.jsx)("span",{style:{color:"green"},children:"\u2713"}):Object(f.jsxs)("span",{className:"toolcontainer",style:{color:"red"},children:["\u2717",Object(f.jsx)("span",{className:"tooltip",children:S(s)})]}),"Mines"===t&&Object(f.jsxs)("div",{children:[Object(f.jsx)("label",{children:"Mine density:"}),n.rows>0&&n.columns>0?Math.round(100*n.mines/(n.rows*n.columns))+"%":"N/A"]})]})}var k=function(e){var t=e.args,n=t.setMineCount,s=t.setGameState,c=t.setField,a=Object(r.useState)({rows:9,columns:9,mines:10,difficulty:"easy"}),o=Object(i.a)(a,2),u=o[0],l=o[1];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("p",{children:"Select a standard difficulty, or specify custom parameters."}),Object(f.jsx)("p",{children:"For a custom game, a mine density between 12% and 20% is recommended."}),g.map((function(e){return Object(f.jsx)(I,{difficulty:e,inputs:u,setInputs:l},e)})),Object(f.jsx)("button",{type:"button",onClick:function(){return function(e,t,n,r){h(y(e),t,n,r)}(u.difficulty,n,s,c)},children:"Start Standard Game"}),Object(f.jsx)("br",{}),v.map((function(e){return Object(f.jsx)(F,{input:e,inputs:u,setInputs:l},e)})),Object(f.jsx)("button",{type:"button",onClick:function(){return function(e,t,n,r){v.every((function(t){return w(t.toLowerCase(),e)}))?h(e,t,n,r):alert('Invalid parameters. However over red "x"s for details.')}(u,n,s,c)},children:"Start Custom Game"})]})};function G(){return Object(f.jsxs)("div",{children:[Object(f.jsx)("h3",{children:"Rules"}),Object(f.jsx)("p",{children:"Do this."}),Object(f.jsx)("p",{children:"Don't do that."})]})}var N=function(){var e=Object(r.useState)(!1),t=Object(i.a)(e,2),n=t[0],s=t[1];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("button",{type:"button",onClick:function(){return s(!n)},children:n?"Hide Rules":"Show Rules"}),n&&Object(f.jsx)(G,{})]})};var L=function(){return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(N,{})})};n(15),n(16);var R=function(){var e=Object(r.useState)(10),t=Object(i.a)(e,2),n=t[0],s=t[1],c=Object(r.useState)("reset"),a=Object(i.a)(c,2),o=a[0],u=a[1],l=Object(r.useState)(d(9,9)),j=Object(i.a)(l,2),b=j[0],m=j[1];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h1",{children:"Minesweeper"}),Object(f.jsx)(k,{args:{setMineCount:s,setGameState:u,setField:m}}),Object(f.jsx)(x,{args:{mineCount:n,gameState:o,setGameState:u,field:b,setField:m}}),Object(f.jsx)(L,{})]})};a.a.render(Object(f.jsx)(s.a.StrictMode,{children:Object(f.jsx)(R,{})}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.dec411cc.chunk.js.map