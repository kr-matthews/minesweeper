{"version":3,"sources":["objectAttributeAccessor.js","generateField.js","Field.js","Header.js","Rules.js","Footer.js","App.js","index.js"],"names":["extract","obj","attr","directions","skeletonField","rows","columns","newField","i","newRow","j","push","state","adjCount","generateMines","rowInd","colInd","mineCount","field","setField","length","m","n","cellCount","adjCellCount","getNeighbours","excessMines","Math","max","nonClickAdjArr","clickAdjArr","r","c","hasMine","isNeighbour","pop","mineArraysToField","generateShuffledMineArray","forEach","r0","c0","assignAdjCounts","len","mines","arr","swap_i","getRandomInt","shuffle","d1","abs","d2","map","dr","dc","filter","lower","upper","floor","random","resetField","inputs","setMineCount","setRevealCount","setGameState","handleLeftClick","gameState","cell","stack","revealCount","cascadeReveal","Cell","args","className","type","onClick","onContextMenu","e","preventDefault","prev","handleRightClick","Field","row","cellData","difficultyList","inputList","isValidInput","inp","presets","diff","displayDifficulty","difficulty","toLowerCase","tooltip","adjustNumber","setInputs","change","num","DifficultyRadio","id","name","value","checked","onChange","target","updateDifficulty","htmlFor","Input","input","str","test","isNumber","updateAnInput","style","color","round","Header","useState","startStandard","every","alert","startCustom","RulesText","Rules","isOpen","setIsOpen","Footer","App","useEffect","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7c5ae8e0.chunk.js","sourcesContent":["export function extract(obj, attr) {\n  return obj.[attr];\n}\n","const directions = [\n  [-1, 1],\n  [0, 1],\n  [1, 1],\n  [1, 0],\n  [1, -1],\n  [0, -1],\n  [-1, -1],\n  [-1, 0],\n];\n\nfunction skeletonField(rows, columns) {\n  let newField = [];\n  for (var i = 0; i < rows; i++) {\n    // create a new row in the field\n    let newRow = [];\n    for (var j = 0; j < columns; j++) {\n      // create a new cell in the row\n      newRow.push({ state: \"hide\", adjCount: 0 });\n    }\n    newField.push(newRow);\n  }\n  return newField;\n}\n\n// add mine locations and adj counts to field, given first click location\n//  (clicked cell should be a 0 if possible)\nfunction generateMines(rowInd, colInd, mineCount, field, setField) {\n  let [m, n] = [field.length, field[0].length];\n  let cellCount = m * n;\n  let adjCellCount = getNeighbours(rowInd, colInd, m, n).length;\n  // how many mines must bleed into the cells adj to clicked\n  // set this to 0 to dynamically enforce max mineCount so click is always 0\n  let excessMines = Math.max(0, mineCount - (cellCount - (adjCellCount + 1)));\n  // generate shuffled array for mine locations of non-adjacent cells\n  let nonClickAdjArr = generateShuffledMineArray(\n    cellCount - (adjCellCount + 1),\n    mineCount - excessMines\n  );\n  // generate shuffled array for mine locations of adjacent cells\n  let clickAdjArr = generateShuffledMineArray(adjCellCount, excessMines);\n  // add mines to actual field state using those two arrays\n  mineArraysToField(\n    rowInd,\n    colInd,\n    nonClickAdjArr,\n    clickAdjArr,\n    field,\n    setField\n  );\n  // assign arj counts based on newly placed mines\n  assignAdjCounts(field, setField);\n}\n\n// shuffled array of length len with max(mines,len) mines\nfunction generateShuffledMineArray(len, mines) {\n  let arr = [];\n  // create sorted array with mines...\n  for (let i = 0; i < len; i++) {\n    if (i < mines) {\n      arr.push(true);\n    } else {\n      arr.push(false);\n    }\n  }\n  // ... and then shuffle it\n  return shuffle(arr);\n}\n\nfunction shuffle(arr) {\n  for (let i = 0; i < arr.length; i++) {\n    let swap_i = getRandomInt(i, arr.length - 1);\n    [arr[i], arr[swap_i]] = [arr[swap_i], arr[i]];\n  }\n  return arr;\n}\n\nfunction mineArraysToField(\n  rowInd,\n  colInd,\n  nonClickAdjArr,\n  clickAdjArr,\n  field,\n  setField\n) {\n  let newField = [...field];\n  for (let r = 0; r < field.length; r++) {\n    for (let c = 0; c < field[0].length; c++) {\n      if (r === rowInd && c === colInd) {\n        // this is the clicked cell, no mine here\n        newField[r][c].hasMine = false;\n      } else if (isNeighbour(r, c, rowInd, colInd)) {\n        // this is adj to clicked cell, so sample from adj arr\n        newField[r][c].hasMine = clickAdjArr.pop();\n      } else {\n        // this is not adj, so sample from non-adj arr\n        newField[r][c].hasMine = nonClickAdjArr.pop();\n      }\n    }\n  }\n  setField(newField);\n}\n\nfunction isNeighbour(r, c, r0, c0) {\n  let d1 = Math.abs(r - r0);\n  let d2 = Math.abs(c - c0);\n  return d1 <= 1 && d2 <= 1 && d1 + d2 > 0;\n}\n\nfunction assignAdjCounts(field, setField) {\n  let newField = [...field];\n  for (let r = 0; r < field.length; r++) {\n    for (let c = 0; c < field[0].length; c++) {\n      // count the mines adj to [r,c] (not including itself)\n      getNeighbours(r, c, field.length, field[0].length).forEach(([r0, c0]) => {\n        if (field[r0][c0].hasMine) {\n          newField[r][c].adjCount += 1;\n        }\n      });\n    }\n  }\n  setField(newField);\n}\n\nfunction getNeighbours(r, c, m, n) {\n  return (\n    directions\n      .map(([dr, dc]) => [r + dr, c + dc])\n      // check whether the potential neighbour is in the field bounds\n      .filter(([r0, c0]) => 0 <= r0 && r0 < m && 0 <= c0 && c0 < n)\n  );\n}\n\n// inclusive of end-points\nfunction getRandomInt(lower, upper) {\n  return Math.floor(Math.random() * (upper - lower + 1)) + lower;\n}\n\nexport { skeletonField, generateMines, getNeighbours };\n\n// testing\n\n//export { getNeighbours };\n","// TODO: redo Cell component to deal with all cases\n// TODO: style cells\n\nimport {\n  skeletonField,\n  generateMines,\n  getNeighbours,\n} from \"./generateField.js\";\n\nfunction resetField(\n  inputs,\n  setMineCount,\n  setRevealCount,\n  setGameState,\n  setField\n) {\n  let { rows, columns, mines } = inputs;\n  setGameState(\"reset\");\n  setMineCount(mines);\n  setRevealCount(0);\n  // create a new field with no data (wait until first click)\n  setField(skeletonField(rows, columns));\n}\n\n// have stack of hidden, non-mine cells\n// reveal each, and if adjCount is 0, add all neighbours to stack\nfunction cascadeReveal(stack, setRevealCount, field, setField) {\n  while (stack.length > 0) {\n    let [r, c] = stack.pop();\n    // otherwise already processed it earlier in the stack\n    if (field[r][c].state === \"hide\") {\n      // reveal it\n      let newField = [...field];\n      newField[r][c].state = \"show\";\n      setField(newField);\n      // update revealCount\n      setRevealCount((revealCount) => revealCount + 1);\n      // if it's adjCount is 0, add hidden neighbours to stack\n      if (field[r][c].adjCount === 0) {\n        getNeighbours(r, c, field.length, field[0].length).forEach(\n          ([r0, c0]) => {\n            if (field[r0][c0].state === \"hide\") {\n              stack.push([r0, c0]);\n            }\n          }\n        );\n      }\n    }\n  }\n}\n\nfunction handleLeftClick(\n  r,\n  c,\n  mineCount,\n  setRevealCount,\n  gameState,\n  setGameState,\n  field,\n  setField\n) {\n  let cell = field[r][c];\n  // generate the mines if this is the first click\n  if (cell.state === \"hide\" && gameState === \"reset\") {\n    setGameState(\"ongoing\");\n    generateMines(r, c, mineCount, field, setField);\n  }\n  // now reveal the cell and perform other actions as necessary\n  if (cell.state === \"hide\" && cell.hasMine) {\n    // just lost: reveal current cell...\n    let newField = [...field];\n    newField[r][c].state = \"show\";\n    setField(newField);\n    // ... and  trigger loss\n    setGameState(\"lost\");\n  } else if (cell.state === \"hide\") {\n    // no mine: reveal cell, and iterate on any neighbours with 0 adj mines\n    cascadeReveal([[r, c]], setRevealCount, field, setField);\n    // there is a useEffect to check when the game is won\n  }\n}\n\nfunction handleRightClick(e, r, c, field, setField) {\n  // TODO:\n  e.preventDefault();\n  let cell = field[r][c];\n  if (cell.state === \"hide\") {\n    setField((prev) => {\n      let newField = [...prev];\n      newField[r][c].state = \"flag\";\n      return newField;\n    });\n  } else if (cell.state === \"flag\") {\n    setField((prev) => {\n      let newField = [...prev];\n      newField[r][c].state = \"hide\";\n      return newField;\n    });\n  }\n}\n\n// always return a button, style it differently based on classname\n// won't act like a button sometimes\nfunction Cell({ args }) {\n  let {\n    rowInd,\n    colInd,\n    hasMine,\n    setRevealCount,\n    state,\n    adjCount,\n    mineCount,\n    gameState,\n    setGameState,\n    field,\n    setField,\n  } = args;\n  return (\n    <td className=\"cell\">\n      <button\n        type=\"button\"\n        className=\"clickable todo\"\n        onClick={() =>\n          handleLeftClick(\n            rowInd,\n            colInd,\n            mineCount,\n            setRevealCount,\n            gameState,\n            setGameState,\n            field,\n            setField\n          )\n        }\n        onContextMenu={(e) =>\n          handleRightClick(e, rowInd, colInd, field, setField)\n        }\n      >\n        {/* TEMP: should be \"show\" not \"hide\" */}\n        {state === \"show\" ? (hasMine ? \"M\" : adjCount) : state}\n        {/* hasMine ? \"M\" : adjCount */}\n      </button>\n    </td>\n  );\n}\n\nfunction Field({ args }) {\n  let {\n    mineCount,\n    setRevealCount,\n    gameState,\n    setGameState,\n    field,\n    setField,\n  } = args;\n  return (\n    <table className=\"field\">\n      <tbody>\n        {field.map((row, rowInd) => {\n          return (\n            <tr key={rowInd}>\n              {row.map((cellData, colInd) => {\n                return (\n                  <Cell\n                    key={colInd}\n                    args={{\n                      ...cellData,\n                      rowInd,\n                      colInd,\n                      mineCount,\n                      setRevealCount,\n                      gameState,\n                      setGameState,\n                      field,\n                      setField,\n                    }}\n                  />\n                );\n              })}\n            </tr>\n          );\n        })}\n      </tbody>\n    </table>\n  );\n}\n\nexport { resetField, skeletonField };\n\nexport default Field;\n","// TODO: style header\n\nimport { useState } from \"react\";\n\nimport { extract } from \"./objectAttributeAccessor.js\";\nimport { resetField } from \"./Field.js\";\n\n// constants\n\nconst difficultyList = [\"Easy\", \"Medium\", \"Hard\"];\nconst inputList = [\"Rows\", \"Columns\", \"Mines\"];\n\n// helper functions\n\nfunction isNumber(str) {\n  return str === \"\" || /^[0-9\\b]+$/.test(str);\n}\n\nfunction isValidInput(inp, inputs) {\n  let { rows, columns, mines } = inputs;\n  switch (inp) {\n    case \"mines\":\n      return 0 <= mines && mines < rows * columns;\n    case \"rows\":\n      return 0 < rows && rows <= 24;\n    case \"columns\":\n      return 0 < columns && columns <= 30;\n    default:\n      // shouldn't happen\n      return false;\n  }\n}\n\nfunction presets(diff) {\n  switch (diff) {\n    case \"easy\":\n      return { rows: 9, columns: 9, mines: 10 };\n    case \"medium\":\n      return { rows: 16, columns: 16, mines: 40 };\n    case \"hard\":\n      return { rows: 16, columns: 30, mines: 99 };\n    default:\n      // shouldn't happen\n      return { rows: 10, columns: 10, mines: 99 };\n  }\n}\n\nfunction displayDifficulty(difficulty) {\n  let diff = difficulty.toLowerCase();\n  let { rows, columns, mines } = presets(diff);\n  return diff + \": \" + rows + \"x\" + columns + \", \" + mines + \" mines\";\n}\n\nfunction tooltip(inp) {\n  // input boxes already enforce digits-only (ie non-negative integers)\n  switch (inp) {\n    case \"rows\":\n      return \"Must be between 1 and 24 inclusive.\";\n    case \"columns\":\n      return \"Must be between 1 and 30 inclusive.\";\n    case \"mines\":\n      return \"Must be fewer mines than cells.\";\n    default:\n      // shouldn't happen\n      return \"An unknown error has occured.\";\n  }\n}\n\n// click handlers\n\nfunction updateDifficulty(e, inputs, setInputs) {\n  setInputs({ ...inputs, difficulty: e.target.value });\n}\n\nfunction updateAnInput(e, inputs, setInputs, inp) {\n  let str = e.target.value;\n  let num = +str;\n  // only proceed if the value consists of digits (or is blank)\n  if (isNumber(str)) {\n    setInputs({ ...inputs, [inp]: num });\n  }\n}\n\nfunction adjustNumber(inp, inputs, setInputs, change) {\n  let num = extract(inputs, inp); //inputs.[inp] // prettier doesn't like it\n  // only proceed if the number will remain positive\n  if (change > 0 || num > 0) {\n    setInputs({ ...inputs, [inp]: num + change });\n  }\n}\n\nfunction startCustom(\n  inputs,\n  setMineCount,\n  setRevealCount,\n  setGameState,\n  setField\n) {\n  let isValid = inputList.every((input) =>\n    isValidInput(input.toLowerCase(), inputs)\n  );\n  if (isValid) {\n    // discard difficulty from inputs\n    resetField(inputs, setMineCount, setRevealCount, setGameState, setField);\n  } else {\n    alert('Invalid parameters. However over red \"x\"s for details.');\n  }\n}\n\nfunction startStandard(\n  diff,\n  setMineCount,\n  setRevealCount,\n  setGameState,\n  setField\n) {\n  // based on radio button selection so always valid\n  let inputs = presets(diff);\n  resetField(inputs, setMineCount, setRevealCount, setGameState, setField);\n}\n\n// function components\n\nfunction DifficultyRadio({ difficulty, inputs, setInputs }) {\n  let diff = difficulty.toLowerCase();\n  return (\n    <>\n      <input\n        type=\"radio\"\n        id={diff}\n        name=\"difficulty\"\n        value={diff}\n        checked={inputs.difficulty === diff}\n        onChange={(e) => updateDifficulty(e, inputs, setInputs)}\n      />\n      <label htmlFor={diff}>{displayDifficulty(difficulty)}</label>\n    </>\n  );\n}\n\nfunction Input({ input, inputs, setInputs }) {\n  let inp = input.toLowerCase();\n  return (\n    <label htmlFor={inp}>\n      {input}:\n      <button\n        type=\"button\"\n        onClick={() => adjustNumber(inp, inputs, setInputs, -1)}\n      >\n        -\n      </button>\n      <input\n        type=\"text\"\n        id={inp}\n        name={inp}\n        value={extract(inputs, inp)} //{inputs.[inp]} // prettier doesn't like it\n        onChange={(e) => updateAnInput(e, inputs, setInputs, inp)}\n      />\n      <button\n        type=\"button\"\n        onClick={() => adjustNumber(inp, inputs, setInputs, 1)}\n      >\n        +\n      </button>\n      {isValidInput(inp, inputs) ? (\n        <span style={{ color: \"green\" }}>&#10003;</span>\n      ) : (\n        <span className=\"toolcontainer\" style={{ color: \"red\" }}>\n          &#10007;<span className=\"tooltip\">{tooltip(inp)}</span>\n        </span>\n      )}\n      {input === \"Mines\" && (\n        <div>\n          <label>Mine density:</label>\n          {inputs.rows > 0 && inputs.columns > 0\n            ? Math.round(\n                (100 * inputs.mines) / (inputs.rows * inputs.columns)\n              ) + \"%\"\n            : \"N/A\"}\n        </div>\n      )}\n    </label>\n  );\n}\n\n// primary component\n\nfunction Header({ args }) {\n  let { setMineCount, setRevealCount, setGameState, setField } = args;\n\n  const [inputs, setInputs] = useState({\n    rows: 9,\n    columns: 9,\n    mines: 10,\n    difficulty: \"easy\",\n  });\n\n  return (\n    <>\n      {/* directions */}\n      <p>Select a standard difficulty, or specify custom parameters.</p>\n      <p>\n        For a custom game, a mine density between 12% and 20% is recommended.\n      </p>\n\n      {/* standard game options */}\n      {difficultyList.map((difficulty) => {\n        return (\n          <DifficultyRadio\n            key={difficulty}\n            difficulty={difficulty}\n            inputs={inputs}\n            setInputs={setInputs}\n          />\n        );\n      })}\n      <button\n        type=\"button\"\n        onClick={() =>\n          startStandard(\n            inputs.difficulty,\n            setMineCount,\n            setRevealCount,\n            setGameState,\n            setField\n          )\n        }\n      >\n        Start Standard Game\n      </button>\n\n      {/* // TEMP: */}\n      <br />\n\n      {/* custom game inputs */}\n      {inputList.map((input) => {\n        return (\n          <Input\n            key={input}\n            input={input}\n            inputs={inputs}\n            setInputs={setInputs}\n          />\n        );\n      })}\n      <button\n        type=\"button\"\n        onClick={() =>\n          startCustom(\n            inputs,\n            setMineCount,\n            setRevealCount,\n            setGameState,\n            setField\n          )\n        }\n      >\n        Start Custom Game\n      </button>\n    </>\n  );\n}\n\nexport default Header;\n\n// for testing\n\nexport { isNumber, isValidInput };\n","import { useState } from \"react\";\n\n// TODO: actual rules text\nfunction RulesText() {\n  return (\n    <div>\n      <h3>Rules</h3>\n      <p>Do this.</p>\n      <p>Don't do that.</p>\n    </div>\n  );\n}\n\nfunction Rules() {\n  const [isOpen, setIsOpen] = useState(false);\n\n  return (\n    <>\n      <button type=\"button\" onClick={() => setIsOpen(!isOpen)}>\n        {isOpen ? \"Hide Rules\" : \"Show Rules\"}\n      </button>\n      {isOpen && <RulesText />}\n    </>\n  );\n}\n\nexport default Rules;\n","// TODO: add links to related: https://pwmarcz.pl/kaboom/ and https://www.chiark.greenend.org.uk/~sgtatham/puzzles/js/mines.html\n// TODO: timer, if not too difficulty\n// TODO: high-scores, if local storage is easy\n// TODO: style footer\n\nimport Rules from \"./Rules.js\";\n\nfunction Footer({ args }) {\n  let { gameState } = args;\n  return (\n    <>\n      <p>The game is {gameState}.</p>\n      <Rules />\n    </>\n  );\n}\n\nexport default Footer;\n","import { useState, useEffect } from \"react\";\n\nimport Header from \"./Header.js\";\nimport Field from \"./Field.js\";\nimport Footer from \"./Footer\";\n\nimport { skeletonField } from \"./generateField.js\";\n\nimport \"./index.css\";\nimport \"./field.css\";\n\nfunction App() {\n  // Constants\n\n  const [mineCount, setMineCount] = useState(10);\n  // how many non-mine cells have been revealed\n  const [revealCount, setRevealCount] = useState(0);\n  // reset, ongoing, won, lost\n  const [gameState, setGameState] = useState(\"reset\");\n  // each cell is hasMine (t/f), state (show/hide/flag), adjCount (#)\n  const [field, setField] = useState(skeletonField(9, 9));\n\n  // effects\n\n  // check whether game is won\n  useEffect(() => {\n    if (revealCount + mineCount === field.length * field[0].length) {\n      setGameState(\"won\");\n    }\n  }, [revealCount, mineCount, field]);\n\n  // return\n\n  return (\n    <>\n      <h1>Minesweeper</h1>\n      <Header args={{ setMineCount, setRevealCount, setGameState, setField }} />\n      <Field\n        args={{\n          mineCount,\n          gameState,\n          setGameState,\n          field,\n          setField,\n          setRevealCount,\n        }}\n      />\n      <Footer args={{ gameState }} />\n    </>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}