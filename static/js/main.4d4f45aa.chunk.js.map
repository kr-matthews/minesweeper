{"version":3,"sources":["useTimer.js","useHighScores.js","images/flag.svg","images/question-mark.svg","images/mine.svg","images/flagged-mine.svg","images/marked-mine.svg","images/clicked-mine.svg","Cell.js","generateField.js","Field.js","Header.js","ConfirmAndAct.js","Rules.js","links/website-logo.svg","links/Links.js","links/github.png","Footer.js","App.js","index.js"],"names":["useTimer","useState","time","setTime","state","setState","intRef","useRef","handleStart","current","setInterval","prev","handleStop","clearInterval","handleReset","useHighScores","JSON","parse","localStorage","getItem","highScores","setHighScores","makeName","rows","cols","mines","getHighScore","name","score","undefined","Number","POSITIVE_INFINITY","updateHighScore","oldHighScore","newHighScore","Math","min","newHighScores","setItem","stringify","resetHighScore","resetHighScores","flag","src","flagImage","alt","onContextMenu","e","preventDefault","mark","markImage","hiddenMine","hiddenMineImage","flaggedMine","flaggedMineImage","markedMine","markedMineImage","clickedMine","clickedMineImage","cellDisplay","hasMine","adjCount","gameState","cellClass","usingWarnings","surplus","buttonClass","toString","handleLeftClick","r","c","mineCount","setRevealCount","setGameState","field","setField","cell","rowInd","colInd","length","m","n","cellCount","adjCellCount","getNeighbours","excessMines","max","nonClickAdjArr","generateShuffledMineArray","clickAdjArr","newField","isNeighbour","pop","mineArraysToField","forEach","r0","c0","assignAdjCounts","generateMines","cascadeReveal","adjFlagSurplus","revealNonFlagNeighbours","Cell","args","setFlagCount","usingQs","className","type","onClick","newState","handleRightClick","directions","skeletonField","columns","i","newRow","j","push","len","arr","swap_i","getRandomInt","shuffle","d1","abs","d2","map","dr","dc","filter","lower","upper","floor","random","resetField","inputs","setMineCount","stack","revealCount","Field","row","cellData","difficultyList","inputList","isValidInput","inp","presets","diff","displayDifficulty","difficulty","toLowerCase","displayMineDensity","round","tooltip","adjustNumber","setInputs","change","num","DifficultyRadio","id","value","checked","onChange","target","updateDifficulty","htmlFor","Input","input","str","test","isNumber","updateAnInput","style","color","Header","setUsingQs","setUsingWarnings","questionMark","startStandard","every","alert","startCustom","ConfirmAndAct","txt","action","setReset","setInput","RulesText","href","rel","Rules","isOpen","setIsOpen","Link","url","image","description","Links","gitHubLink","links","websiteImage","message","isHighScore","convertTime","milliseconds","decimal","Footer","highScore","flagCount","reset","currentSeconds","currentDecimal","highScoreSeconds","highScoreDecimal","App","useEffect","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4d4f45aa.chunk.js","sourcesContent":["import { useState, useRef } from \"react\";\n\nfunction useTimer() {\n  // time in milliseconds\n  const [time, setTime] = useState(0);\n  const [state, setState] = useState(\"reset\");\n  const intRef = useRef(null);\n\n  function handleStart() {\n    setState(\"running\");\n    // update every 0.01 seconds, ie track 13.48 seconds\n    intRef.current = setInterval(() => setTime((prev) => prev + 10), 10);\n  }\n\n  function handleStop() {\n    clearInterval(intRef.current);\n    setState(\"stopped\");\n  }\n\n  function handleReset() {\n    clearInterval(intRef.current);\n    setTime(0);\n    setState(\"reset\");\n  }\n\n  return { time, state, handleStart, handleStop, handleReset };\n}\n\nexport default useTimer;\n","import { useState } from \"react\";\n\n// should this use useReducer instead of useState?\n\nfunction useHighScores() {\n  const [highScores, setHighScores] = useState(\n    JSON.parse(localStorage.getItem(\"HS\")) || {}\n  );\n\n  function makeName(rows, cols, mines) {\n    return rows + \"-\" + cols + \"-\" + mines;\n  }\n\n  function getHighScore(rows, cols, mines) {\n    let name = makeName(rows, cols, mines);\n    let score = highScores[name];\n    return score === undefined ? Number.POSITIVE_INFINITY : score;\n  }\n\n  function updateHighScore(rows, cols, mines, score) {\n    let name = makeName(rows, cols, mines);\n    let oldHighScore = getHighScore(rows, cols, mines);\n    let newHighScore = Math.min(oldHighScore, score);\n    let newHighScores = { ...highScores, [name]: newHighScore };\n    setHighScores(newHighScores);\n    localStorage.setItem(\"HS\", JSON.stringify(newHighScores));\n  }\n\n  function resetHighScores() {\n    setHighScores({});\n    localStorage.setItem(\"HS\", JSON.stringify({}));\n  }\n\n  function resetHighScore(rows, cols, mines) {\n    let name = makeName(rows, cols, mines);\n    let newHighScores = { ...highScores };\n    delete newHighScores[name];\n    setHighScores(newHighScores);\n    localStorage.setItem(\"HS\", JSON.stringify(newHighScores));\n  }\n\n  return { getHighScore, updateHighScore, resetHighScore, resetHighScores };\n}\n\nexport default useHighScores;\n","export default __webpack_public_path__ + \"static/media/flag.12de066e.svg\";","export default __webpack_public_path__ + \"static/media/question-mark.2c2b9207.svg\";","export default __webpack_public_path__ + \"static/media/mine.99a3231c.svg\";","export default __webpack_public_path__ + \"static/media/flagged-mine.419c9e8a.svg\";","export default __webpack_public_path__ + \"static/media/marked-mine.1978ea2d.svg\";","export default __webpack_public_path__ + \"static/media/clicked-mine.90b81e3c.svg\";","import {\n  generateMines,\n  cascadeReveal,\n  adjFlagSurplus,\n  revealNonFlagNeighbours,\n} from \"./Field.js\";\n\nimport flagImage from \"./images/flag.svg\";\nimport markImage from \"./images/question-mark.svg\";\nimport hiddenMineImage from \"./images/mine.svg\";\nimport flaggedMineImage from \"./images/flagged-mine.svg\";\nimport markedMineImage from \"./images/marked-mine.svg\";\nimport clickedMineImage from \"./images/clicked-mine.svg\";\n\nconst flag = (\n  <img src={flagImage} alt=\"F\" onContextMenu={(e) => e.preventDefault()} />\n);\nconst mark = (\n  <img src={markImage} alt=\"?\" onContextMenu={(e) => e.preventDefault()} />\n);\nconst hiddenMine = <img src={hiddenMineImage} alt=\"M\" />;\nconst flaggedMine = <img src={flaggedMineImage} alt=\"FM\" />;\nconst markedMine = <img src={markedMineImage} alt=\"?M\" />;\nconst clickedMine = <img src={clickedMineImage} alt=\"!!!\" />;\n\nfunction cellDisplay(hasMine, state, adjCount, gameState) {\n  if (gameState === \"reset\" || gameState === \"ongoing\") {\n    switch (state) {\n      case \"hide\":\n        return \"\";\n      case \"show\":\n        return adjCount;\n      case \"flag\":\n        return flag;\n      case \"mark\":\n        return mark;\n      default:\n        return \"Error!\";\n    }\n  } else if (gameState === \"won\") {\n    if (!hasMine) {\n      return adjCount;\n    } else if (state === \"hide\") {\n      return hiddenMine;\n    } else if (state === \"flag\") {\n      return flaggedMine;\n    } else {\n      //state === \"mark\"\n      return markedMine;\n    }\n  } else if (gameState === \"lost\") {\n    if (hasMine) {\n      switch (state) {\n        case \"hide\":\n          return hiddenMine;\n        case \"show\":\n          return clickedMine;\n        case \"flag\":\n          return flaggedMine;\n        case \"mark\":\n          return markedMine;\n        default:\n          return \"Error!\";\n      }\n    } else {\n      switch (state) {\n        case \"hide\":\n          return \"\";\n        case \"show\":\n          return adjCount;\n        case \"flag\":\n          return flag;\n        case \"mark\":\n          return mark;\n        default:\n          return \"Error!\";\n      }\n    }\n  }\n}\n\nfunction cellClass(\n  hasMine,\n  state,\n  adjCount,\n  gameState,\n  usingWarnings,\n  surplus\n) {\n  if (state === \"show\" && !hasMine && usingWarnings && surplus > 0) {\n    return \"cell surplus\";\n  }\n  if (state === \"show\") {\n    // nothing is clickable once game is over\n    return \"cell\";\n  }\n  return \"cell hidden\";\n}\n\nfunction buttonClass(hasMine, state, adjCount, gameState) {\n  if (gameState === \"won\" || gameState === \"lost\") {\n    // nothing is clickable once game is over\n    return \"_\" + adjCount.toString();\n  }\n  if (state === \"hide\") {\n    return \"clickable\";\n  }\n  return \"_\" + adjCount.toString();\n}\n\nfunction handleLeftClick(\n  r,\n  c,\n  mineCount,\n  setRevealCount,\n  gameState,\n  setGameState,\n  field,\n  setField,\n  handleStart,\n  handleStop\n) {\n  // don't do anything if the game is over\n  if (gameState === \"won\" || gameState === \"lost\") {\n    return;\n  }\n  let cell = field[r][c];\n  // generate the mines if this is the first click\n  if (gameState === \"reset\" && cell.state === \"hide\") {\n    setGameState(\"ongoing\");\n    generateMines(r, c, mineCount, field, setField);\n    handleStart();\n  }\n  // now gameState is ongoing\n  // now reveal the cell and perform other actions as necessary\n  if (cell.state === \"hide\" && cell.hasMine) {\n    // just lost: reveal current cell...\n    let newField = [...field];\n    newField[r][c].state = \"show\";\n    setField(newField);\n    // ... and  trigger loss\n    setGameState(\"lost\");\n    handleStop();\n  } else if (cell.state === \"hide\") {\n    // no mine: reveal cell, and iterate on any neighbours with 0 adj mines\n    cascadeReveal(\n      [[r, c]],\n      setRevealCount,\n      setGameState,\n      field,\n      setField,\n      handleStop\n    );\n    // there is a useEffect to check when the game is won\n  } else if (cell.state === \"show\" && adjFlagSurplus(r, c, field) === 0) {\n    revealNonFlagNeighbours(\n      r,\n      c,\n      setRevealCount,\n      setGameState,\n      field,\n      setField,\n      handleStop\n    );\n  }\n}\n\nfunction handleRightClick(\n  e,\n  r,\n  c,\n  gameState,\n  setFlagCount,\n  field,\n  setField,\n  usingQs\n) {\n  e.preventDefault();\n  // don't do anything if the game is over\n  if (gameState === \"won\" || gameState === \"lost\") {\n    return;\n  }\n  let cell = field[r][c];\n  if (cell.state === \"hide\") {\n    setField((prev) => {\n      let newField = [...prev];\n      newField[r][c].state = \"flag\";\n      return newField;\n    });\n    setFlagCount((prev) => prev + 1);\n  } else if (cell.state === \"flag\") {\n    setField((prev) => {\n      let newState = usingQs ? \"mark\" : \"hide\";\n      let newField = [...prev];\n      newField[r][c].state = newState;\n      return newField;\n    });\n    setFlagCount((prev) => prev - 1);\n  } else if (cell.state === \"mark\") {\n    setField((prev) => {\n      let newField = [...prev];\n      newField[r][c].state = \"hide\";\n      return newField;\n    });\n  }\n}\n\n// always return a button, style it differently based on classname\n// won't act like a button sometimes\nfunction Cell({ args }) {\n  let {\n    rowInd,\n    colInd,\n    hasMine,\n    setRevealCount,\n    setFlagCount,\n    state,\n    adjCount,\n    mineCount,\n    gameState,\n    setGameState,\n    field,\n    setField,\n    handleStart,\n    handleStop,\n    usingWarnings,\n    usingQs,\n  } = args;\n  let surplus = adjFlagSurplus(rowInd, colInd, field);\n  return (\n    <td\n      className={cellClass(\n        hasMine,\n        state,\n        adjCount,\n        gameState,\n        usingWarnings,\n        surplus\n      )}\n    >\n      <button\n        type=\"button\"\n        className={buttonClass(hasMine, state, adjCount, gameState)}\n        onClick={() =>\n          handleLeftClick(\n            rowInd,\n            colInd,\n            mineCount,\n            setRevealCount,\n            gameState,\n            setGameState,\n            field,\n            setField,\n            handleStart,\n            handleStop\n          )\n        }\n        onContextMenu={(e) =>\n          handleRightClick(\n            e,\n            rowInd,\n            colInd,\n            gameState,\n            setFlagCount,\n            field,\n            setField,\n            usingQs\n          )\n        }\n      >\n        {cellDisplay(hasMine, state, adjCount, gameState)}\n      </button>\n    </td>\n  );\n}\n\nexport default Cell;\n","const directions = [\n  [-1, 1],\n  [0, 1],\n  [1, 1],\n  [1, 0],\n  [1, -1],\n  [0, -1],\n  [-1, -1],\n  [-1, 0],\n];\n\nfunction skeletonField(rows, columns) {\n  let newField = [];\n  for (var i = 0; i < rows; i++) {\n    // create a new row in the field\n    let newRow = [];\n    for (var j = 0; j < columns; j++) {\n      // create a new cell in the row\n      newRow.push({ state: \"hide\", adjCount: 0 });\n    }\n    newField.push(newRow);\n  }\n  return newField;\n}\n\n// add mine locations and adj counts to field, given first click location\n//  (clicked cell should be a 0 if possible)\nfunction generateMines(rowInd, colInd, mineCount, field, setField) {\n  let [m, n] = [field.length, field[0].length];\n  let cellCount = m * n;\n  let adjCellCount = getNeighbours(rowInd, colInd, m, n).length;\n  // how many mines must bleed into the cells adj to clicked\n  // set this to 0 to dynamically enforce max mineCount so click is always 0\n  let excessMines = Math.max(0, mineCount - (cellCount - (adjCellCount + 1)));\n  // generate shuffled array for mine locations of non-adjacent cells\n  let nonClickAdjArr = generateShuffledMineArray(\n    cellCount - (adjCellCount + 1),\n    mineCount - excessMines\n  );\n  // generate shuffled array for mine locations of adjacent cells\n  let clickAdjArr = generateShuffledMineArray(adjCellCount, excessMines);\n  // add mines to actual field state using those two arrays\n  mineArraysToField(\n    rowInd,\n    colInd,\n    nonClickAdjArr,\n    clickAdjArr,\n    field,\n    setField\n  );\n  // assign arj counts based on newly placed mines\n  assignAdjCounts(field, setField);\n}\n\n// shuffled array of length len with max(mines,len) mines\nfunction generateShuffledMineArray(len, mines) {\n  let arr = [];\n  // create sorted array with mines...\n  for (let i = 0; i < len; i++) {\n    if (i < mines) {\n      arr.push(true);\n    } else {\n      arr.push(false);\n    }\n  }\n  // ... and then shuffle it\n  return shuffle(arr);\n}\n\nfunction shuffle(arr) {\n  for (let i = 0; i < arr.length; i++) {\n    let swap_i = getRandomInt(i, arr.length - 1);\n    [arr[i], arr[swap_i]] = [arr[swap_i], arr[i]];\n  }\n  return arr;\n}\n\nfunction mineArraysToField(\n  rowInd,\n  colInd,\n  nonClickAdjArr,\n  clickAdjArr,\n  field,\n  setField\n) {\n  let newField = [...field];\n  for (let r = 0; r < field.length; r++) {\n    for (let c = 0; c < field[0].length; c++) {\n      if (r === rowInd && c === colInd) {\n        // this is the clicked cell, no mine here\n        newField[r][c].hasMine = false;\n      } else if (isNeighbour(r, c, rowInd, colInd)) {\n        // this is adj to clicked cell, so sample from adj arr\n        newField[r][c].hasMine = clickAdjArr.pop();\n      } else {\n        // this is not adj, so sample from non-adj arr\n        newField[r][c].hasMine = nonClickAdjArr.pop();\n      }\n    }\n  }\n  setField(newField);\n}\n\nfunction isNeighbour(r, c, r0, c0) {\n  let d1 = Math.abs(r - r0);\n  let d2 = Math.abs(c - c0);\n  return d1 <= 1 && d2 <= 1 && d1 + d2 > 0;\n}\n\nfunction assignAdjCounts(field, setField) {\n  let newField = [...field];\n  for (let r = 0; r < field.length; r++) {\n    for (let c = 0; c < field[0].length; c++) {\n      // count the mines adj to [r,c] (not including itself)\n      getNeighbours(r, c, field.length, field[0].length).forEach(([r0, c0]) => {\n        if (field[r0][c0].hasMine) {\n          newField[r][c].adjCount += 1;\n        }\n      });\n    }\n  }\n  setField(newField);\n}\n\nfunction getNeighbours(r, c, m, n) {\n  return (\n    directions\n      .map(([dr, dc]) => [r + dr, c + dc])\n      // check whether the potential neighbour is in the field bounds\n      .filter(([r0, c0]) => 0 <= r0 && r0 < m && 0 <= c0 && c0 < n)\n  );\n}\n\n// inclusive of end-points\nfunction getRandomInt(lower, upper) {\n  return Math.floor(Math.random() * (upper - lower + 1)) + lower;\n}\n\nexport { skeletonField, generateMines, getNeighbours };\n\n// testing\n\n//export { getNeighbours };\n","import Cell from \"./Cell.js\";\n\nimport {\n  skeletonField,\n  generateMines,\n  getNeighbours,\n} from \"./generateField.js\";\n\nfunction resetField(\n  inputs,\n  setMineCount,\n  setRevealCount,\n  setFlagCount,\n  setGameState,\n  setField,\n  handleReset\n) {\n  let { rows, columns, mines } = inputs;\n  setGameState(\"reset\");\n  setMineCount(mines);\n  setRevealCount(0);\n  setFlagCount(0);\n  handleReset();\n  // create a new field with no data (wait until first click)\n  setField(skeletonField(rows, columns));\n}\n\n// have stack of cells (any state and any hasMine)\n// reveal if hidden;\n// and if it isn't a mine and adjCount is 0, then add all neighbours to stack\nfunction cascadeReveal(\n  stack,\n  setRevealCount,\n  setGameState,\n  field,\n  setField,\n  handleStop\n) {\n  while (stack.length > 0) {\n    let [r, c] = stack.pop();\n    // otherwise already processed it earlier in the stack\n    if (field[r][c].state === \"hide\") {\n      // reveal it\n      let newField = [...field];\n      newField[r][c].state = \"show\";\n      setField(newField);\n      if (field[r][c].hasMine) {\n        // ... and  trigger loss\n        setGameState(\"lost\");\n        handleStop();\n      } else {\n        // update revealCount\n        setRevealCount((revealCount) => revealCount + 1);\n        // if it's adjCount is 0, add hidden neighbours to stack\n        if (field[r][c].adjCount === 0) {\n          getNeighbours(r, c, field.length, field[0].length).forEach(\n            ([r0, c0]) => {\n              if (field[r0][c0].state === \"hide\") {\n                stack.push([r0, c0]);\n              }\n            }\n          );\n        }\n      }\n    }\n  }\n}\n\n// reveal all non-flagged, adj cells\nfunction revealNonFlagNeighbours(\n  r,\n  c,\n  setRevealCount,\n  setGameState,\n  field,\n  setField,\n  handleStop\n) {\n  let [m, n] = [field.length, field[0].length];\n  cascadeReveal(\n    getNeighbours(r, c, m, n),\n    setRevealCount,\n    setGameState,\n    field,\n    setField,\n    handleStop\n  );\n}\n\n// check if adj flag count is equal to adj mine count\nfunction adjFlagSurplus(r, c, field) {\n  let [m, n] = [field.length, field[0].length];\n  return (\n    getNeighbours(r, c, m, n).filter(([r0, c0]) => {\n      return field[r0][c0].state === \"flag\";\n    }).length - field[r][c].adjCount\n  );\n}\n\nfunction Field({ args }) {\n  let {\n    mineCount,\n    setRevealCount,\n    setFlagCount,\n    gameState,\n    setGameState,\n    field,\n    setField,\n    handleStart,\n    handleStop,\n    usingQs,\n    usingWarnings,\n  } = args;\n  return (\n    <table className=\"field\">\n      <tbody>\n        {field.map((row, rowInd) => {\n          return (\n            <tr key={rowInd}>\n              {row.map((cellData, colInd) => {\n                return (\n                  <Cell\n                    key={colInd}\n                    args={{\n                      ...cellData,\n                      rowInd,\n                      colInd,\n                      mineCount,\n                      setRevealCount,\n                      setFlagCount,\n                      gameState,\n                      setGameState,\n                      field,\n                      setField,\n                      handleStart,\n                      handleStop,\n                      usingWarnings,\n                      usingQs,\n                    }}\n                  />\n                );\n              })}\n            </tr>\n          );\n        })}\n      </tbody>\n    </table>\n  );\n}\n\nexport { resetField, skeletonField };\n\n// for Cell.js\nexport {\n  generateMines,\n  cascadeReveal,\n  adjFlagSurplus,\n  revealNonFlagNeighbours,\n};\n\nexport default Field;\n","import { useState } from \"react\";\n\nimport { resetField } from \"./Field.js\";\n\nimport flag from \"./images/flag.svg\";\nimport questionMark from \"./images/question-mark.svg\";\n\n// constants\n\nconst difficultyList = [\"Easy\", \"Medium\", \"Hard\"];\nconst inputList = [\"Rows\", \"Columns\", \"Mines\"];\n\n// helper functions\n\nfunction isNumber(str) {\n  return str === \"\" || /^[0-9\\b]+$/.test(str);\n}\n\nfunction isValidInput(inp, inputs) {\n  let { rows, columns, mines } = inputs;\n  switch (inp) {\n    case \"mines\":\n      return 0 <= mines && mines < rows * columns;\n    case \"rows\":\n      return 0 < rows && rows <= 24;\n    case \"columns\":\n      return 0 < columns && columns <= 30;\n    default:\n      // shouldn't happen\n      return false;\n  }\n}\n\nfunction presets(diff) {\n  switch (diff) {\n    case \"easy\":\n      return { rows: 9, columns: 9, mines: 10 };\n    case \"medium\":\n      return { rows: 16, columns: 16, mines: 40 };\n    case \"hard\":\n      return { rows: 16, columns: 30, mines: 99 };\n    default:\n      // shouldn't happen\n      return { rows: 10, columns: 10, mines: 99 };\n  }\n}\n\nfunction displayDifficulty(difficulty) {\n  let diff = difficulty.toLowerCase();\n  let { rows, columns, mines } = presets(diff);\n  return rows + \"x\" + columns + \", \" + mines + \" mines\";\n}\n\nfunction displayMineDensity(inputs) {\n  return (\n    <div className=\"density\">\n      Mine density:{\" \"}\n      {inputs.rows > 0 && inputs.columns > 0\n        ? Math.round((100 * inputs.mines) / (inputs.rows * inputs.columns)) +\n          \"%\"\n        : \"N/A\"}\n    </div>\n  );\n}\n\nfunction tooltip(inp) {\n  // input boxes already enforce digits-only (ie non-negative integers)\n  switch (inp) {\n    case \"rows\":\n      return \"Must be between 1 and 24 inclusive.\";\n    case \"columns\":\n      return \"Must be between 1 and 30 inclusive.\";\n    case \"mines\":\n      return \"Must be fewer mines than cells.\";\n    default:\n      // shouldn't happen\n      return \"An unknown error has occured.\";\n  }\n}\n\n// click handlers\n\nfunction updateDifficulty(e, inputs, setInputs) {\n  setInputs({ ...inputs, difficulty: e.target.value });\n}\n\nfunction updateAnInput(e, inputs, setInputs, inp) {\n  let str = e.target.value;\n  let num = +str;\n  // only proceed if the value consists of digits (or is blank)\n  if (isNumber(str)) {\n    setInputs({ ...inputs, [inp]: num });\n  }\n}\n\nfunction adjustNumber(inp, inputs, setInputs, change) {\n  let num = inputs[inp];\n  // only proceed if the number will remain positive\n  if (change > 0 || num > 0) {\n    setInputs({ ...inputs, [inp]: num + change });\n  }\n}\n\nfunction startCustom(\n  inputs,\n  setMineCount,\n  setRevealCount,\n  setFlagCount,\n  setGameState,\n  setField,\n  handleReset\n) {\n  let isValid = inputList.every((input) =>\n    isValidInput(input.toLowerCase(), inputs)\n  );\n  if (isValid) {\n    // discard difficulty from inputs\n    resetField(\n      inputs,\n      setMineCount,\n      setRevealCount,\n      setFlagCount,\n      setGameState,\n      setField,\n      handleReset\n    );\n  } else {\n    alert('Invalid parameters. However over red \"x\"s for details.');\n  }\n}\n\nfunction startStandard(\n  diff,\n  setMineCount,\n  setRevealCount,\n  setFlagCount,\n  setGameState,\n  setField,\n  handleReset\n) {\n  // based on radio button selection so always valid\n  let inputs = presets(diff);\n  resetField(\n    inputs,\n    setMineCount,\n    setRevealCount,\n    setFlagCount,\n    setGameState,\n    setField,\n    handleReset\n  );\n}\n\n// function components\n\nfunction DifficultyRadio({ difficulty, inputs, setInputs }) {\n  let diff = difficulty.toLowerCase();\n  return (\n    <div className=\"radio\">\n      <input\n        type=\"radio\"\n        id={diff}\n        name=\"difficulty\"\n        value={diff}\n        checked={inputs.difficulty === diff}\n        onChange={(e) => updateDifficulty(e, inputs, setInputs)}\n      />\n      <label htmlFor={diff}>\n        <div className=\"diff\">{difficulty + \":\"}</div>\n        <div className=\"desc\">{displayDifficulty(difficulty)}</div>\n      </label>\n    </div>\n  );\n}\n\nfunction Input({ input, inputs, setInputs }) {\n  let inp = input.toLowerCase();\n  return (\n    <>\n      <div className=\"input\">\n        <label htmlFor={inp}>{input}:</label>\n        <button\n          type=\"button\"\n          onClick={() => adjustNumber(inp, inputs, setInputs, -1)}\n        >\n          -\n        </button>\n        <input\n          type=\"text\"\n          id={inp}\n          name={inp}\n          value={inputs[inp]}\n          onChange={(e) => updateAnInput(e, inputs, setInputs, inp)}\n        />\n        <button\n          type=\"button\"\n          onClick={() => adjustNumber(inp, inputs, setInputs, 1)}\n        >\n          +\n        </button>\n        {isValidInput(inp, inputs) ? (\n          <span style={{ color: \"green\" }}>&#10003;</span>\n        ) : (\n          <span className=\"toolcontainer\" style={{ color: \"red\" }}>\n            &#10007;<span className=\"tooltip\">{tooltip(inp)}</span>\n          </span>\n        )}\n      </div>\n    </>\n  );\n}\n\n// primary component\n\nfunction Header({ args }) {\n  let {\n    setMineCount,\n    setRevealCount,\n    setFlagCount,\n    setGameState,\n    setField,\n    handleReset,\n    usingQs,\n    setUsingQs,\n    usingWarnings,\n    setUsingWarnings,\n  } = args;\n\n  const [inputs, setInputs] = useState({\n    rows: 9,\n    columns: 9,\n    mines: 10,\n    difficulty: \"easy\",\n  });\n\n  return (\n    <>\n      {/* options */}\n      <h4>Options</h4>\n      <div className=\"option\">\n        <input\n          type=\"checkbox\"\n          id=\"usingQs\"\n          name=\"usingQs\"\n          value={true}\n          checked={usingQs}\n          onChange={() => setUsingQs((prev) => !prev)}\n        />\n        <label htmlFor=\"usingQs\">\n          Use <img className=\"sml-img\" src={questionMark} alt=\"'?'\" /> in\n          addition to <img className=\"sml-img\" src={flag} alt=\"flag\" /> on\n          right-clicks\n        </label>\n      </div>\n      <div className=\"option\">\n        <input\n          type=\"checkbox\"\n          id=\"usingWarnings\"\n          name=\"usingWarnings\"\n          value={true}\n          checked={usingWarnings}\n          onChange={() => setUsingWarnings((prev) => !prev)}\n        />\n        <label htmlFor=\"usingWarnings\">\n          Highlight surpluses of adjacent flags\n        </label>\n      </div>\n\n      {/* standard game options */}\n      <div className=\"options\">\n        <div className=\"option\">\n          <h4>Standard Game</h4>\n          {difficultyList.map((difficulty) => {\n            return (\n              <DifficultyRadio\n                key={difficulty}\n                difficulty={difficulty}\n                inputs={inputs}\n                setInputs={setInputs}\n              />\n            );\n          })}\n          {displayMineDensity(presets(inputs.difficulty))}\n          <button\n            type=\"button\"\n            className=\"start\"\n            onClick={() =>\n              startStandard(\n                inputs.difficulty,\n                setMineCount,\n                setRevealCount,\n                setFlagCount,\n                setGameState,\n                setField,\n                handleReset\n              )\n            }\n          >\n            Start Standard Game\n          </button>\n        </div>\n\n        {/* custom game inputs */}\n        <div className=\"option\">\n          <h4>Custom Game</h4>\n          {inputList.map((input) => {\n            return (\n              <Input\n                key={input}\n                input={input}\n                inputs={inputs}\n                setInputs={setInputs}\n              />\n            );\n          })}\n          {displayMineDensity(inputs)}\n          <button\n            type=\"button\"\n            className=\"start\"\n            onClick={() =>\n              startCustom(\n                inputs,\n                setMineCount,\n                setRevealCount,\n                setFlagCount,\n                setGameState,\n                setField,\n                handleReset\n              )\n            }\n          >\n            Start Custom Game\n          </button>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default Header;\n\n// for testing\n\nexport { isNumber, isValidInput };\n","import { useState } from \"react\";\n\nfunction ConfirmAndAct({ txt, action, setReset }) {\n  const [input, setInput] = useState(\"\");\n\n  function handleChange(e) {\n    setInput(e.target.value);\n  }\n\n  function handleCancel() {\n    setInput(\"\");\n    setReset(\"\");\n  }\n\n  function handleConfirm(e) {\n    e.preventDefault();\n    if (input === txt) {\n      action();\n      setReset(\"\");\n    } else {\n      alert(\"Wrong confirmation; not reset.\");\n    }\n  }\n\n  return (\n    <div className=\"resets\">\n      <form>\n        <label htmlFor=\"input\">{`Type \"${txt}\": `}</label>\n        <input type=\"text\" id=\"input\" name=\"input\" onChange={handleChange} />\n        <button type=\"submit\" onClick={handleConfirm}>\n          Confirm reset\n        </button>\n        <button type=\"button\" onClick={handleCancel}>\n          Cancel\n        </button>\n      </form>\n    </div>\n  );\n}\n\nexport default ConfirmAndAct;\n","import { useState } from \"react\";\n\nfunction RulesText() {\n  return (\n    <div className=\"rules\">\n      <h4>Rules</h4>\n      <p>\n        All cells start covered. Certain cells have mines hidden underneath\n        them. The goal is to uncover all the cells without mines. If you uncover\n        a mine, you lose.\n      </p>\n      <p>\n        When you uncover a non-mine cell, it will show you how many of the (up\n        to 8) adjacent cells contain mines -- or, if there are no adjacent\n        mines, it will automatically uncover all adjacent cells for you.\n      </p>\n      <p>\n        You can mark cells that you think contain mines with a flag by\n        right-clicking on them. Clicking a flagged cell will do nothing -- so\n        you can't accidentally click it later. To unflag a cell, simply\n        right-click it again.\n      </p>\n      <p>\n        If you click an aready-uncovered cell and its number matches the number\n        of adjacent flags, all other adjecent cells will be uncovered. This can\n        save you some clicks, but isn't necessary.\n      </p>\n      <p>\n        For a custom game, a mine density between 12% and 20% is recommended.\n      </p>\n      <p>\n        If you like minesweeper, consider{\" \"}\n        <a\n          href=\"https://www.chiark.greenend.org.uk/~sgtatham/puzzles/js/mines.html\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          this superior implementation\n        </a>{\" \"}\n        which guarantees you will never need to guess, and{\" \"}\n        <a\n          href=\"https://pwmarcz.pl/kaboom/\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          this neat variation\n        </a>{\" \"}\n        which always penalizes a guess, unless guessing is necessary in which\n        case any guess will be fine.\n      </p>\n    </div>\n  );\n}\n\nfunction Rules() {\n  const [isOpen, setIsOpen] = useState(false);\n\n  return (\n    <>\n      <button\n        type=\"button\"\n        className=\"rules-button\"\n        onClick={() => setIsOpen(!isOpen)}\n      >\n        {isOpen ? \"Hide Rules\" : \"Show Rules\"}\n      </button>\n      {isOpen && <RulesText />}\n    </>\n  );\n}\n\nexport default Rules;\n","export default __webpack_public_path__ + \"static/media/website-logo.2a15d8d0.svg\";","import \"./links.css\";\n\nimport gitHubImage from \"./github.png\";\nimport websiteImage from \"./website-logo.svg\";\n\nfunction Links({ gitHubLink }) {\n  const links = [\n    [\"Personal Website\", \"https://kr-matthews.github.io/\", websiteImage],\n    [\"GitHub\", gitHubLink, gitHubImage],\n  ];\n\n  return (\n    <div className=\"link-footer\">\n      {links.map(([description, url, image]) => (\n        <Link key={url} description={description} url={url} image={image} />\n      ))}\n    </div>\n  );\n}\n\nfunction Link({ url, image, description }) {\n  return (\n    <a\n      href={url}\n      className=\"link-tooltip-container\"\n      target=\"_blank\"\n      rel=\"noopener noreferrer\"\n    >\n      <img className=\"link-image\" src={image} alt=\"\" />\n      <span className=\"link-tooltip\">{description}</span>\n    </a>\n  );\n}\n\nexport default Links;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpFNTE3OEEyQTk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpFNTE3OEEyQjk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTI4OTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTI5OTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+m4QGuQAAAyRJREFUeNrEl21ojWEYx895TDPbMNlBK46IUiNmPvHBSUjaqc0H8pF5+aDUKPEBqU2NhRQpX5Rv5jWlDIWlMCv7MMSWsWwmb3tpXub4XXWdPHvc9/Gc41nu+nedc7/8r/99PffLdYdDPsvkwsgkTBwsA/PADJCnzX2gHTwBt8Hl7p537/3whn04XoDZDcpBlk+9P8AFcAghzRkJwPF4zGGw0Y9QS0mAM2AnQj77FqCzrtcwB1Hk81SYojHK4DyGuQ6mhIIrBWB9Xm7ug/6B/nZrBHBegrkFxoVGpnwBMSLR9EcEcC4qb8pP14BWcBcUgewMnF3T34VqhWMFkThLJAalwnENOAKiHpJq1FZgI2AT6HZtuxZwR9GidSHtI30jOrbawxlVX78/AbNfhHlomEUJJI89O2MqeE79T8/nk8nMBm/dK576hZgmA3cp/R4l9/UeSxiHLVIlNm4nFfT0bxyuIj7LHRTKai+zdJobwMKzcZSJb0ePV5PKN+BqAAKE47UlMnERELMM3EdYP/yrd+XYb2mOiYBiQ8OQnoRBlXrl9JZix7D1pHTazu4MoyBcnYamqAjIMTR8G4FT8LuhLsexXYYjICBiqhQBvYb6fLZIJCjPypVvaOoVAW2WcasCnL2Nq82xHJNSqlCeFcDshaPK0twkAhosjZL31QYw+1rlMpWGMArl23SBsZZO58F2tlJXmjOXS+s4WGvpMiBJT/I2PInZ6lIs9/hBsNS1hS6BG0DSqmYEDRlCXQrmy50P1oDRKTSegmNbUsA0zDMwRhPJXeCE3vWLPQMvan6X8AgIa1vcR4AkGZkDR4ejJ1UHpsaVI0g2LInpOsNFUud1rhxSV+fzC9Woz2EZkWQuja7/B+jUrgtIMpy9YCW4n4K41YfzRneW5E1KJTe4B2Zq1Q5EHEtj4U3AfEzR5SVY4l7QYQPJdN2as7RKBF0BPZqqH4VgMAMBL8Byxr7y8zCZiDlnOcEKIPmUpgB5Z2ww5RdOiiRiNajUmWda5IG6WbhsyY2fx6m8gLcoJDJFkH219M3We1+cnda93pfycZpIJEL/s/wSYADmOAwAQgdpBAAAAABJRU5ErkJggg==\"","import { useState } from \"react\";\n\nimport ConfirmAndAct from \"./ConfirmAndAct.js\";\nimport Rules from \"./Rules.js\";\nimport Links from \"./links/Links.js\";\n\nfunction message(gameState, isHighScore) {\n  switch (gameState) {\n    case \"reset\":\n      return \"The field is reset. Click anywhere to begin.\";\n    case \"ongoing\":\n      return \"The game is in progress.\";\n    case \"won\":\n      return isHighScore\n        ? \"Congratulations, you set a high score!\"\n        : \"Congratulations, you won!\";\n    case \"lost\":\n      return \"Uh oh, you uncovered a mine. You lost.\";\n    default:\n      return \"You found an error!\";\n  }\n}\n\n// return strings, decimal to two digits\nfunction convertTime(milliseconds) {\n  if (milliseconds === Number.POSITIVE_INFINITY) {\n    return [\"N/A\", \"\"];\n  }\n  let seconds = Math.floor(milliseconds / 1000);\n  let secondsString = seconds.toString();\n  let decimal = (milliseconds % 1000) / 10;\n  let decimalString = decimal < 10 ? \"0\" + decimal : decimal.toString();\n  return [secondsString, decimalString];\n}\n\nfunction Footer({ args }) {\n  let {\n    m,\n    n,\n    time,\n    highScore,\n    gameState,\n    mineCount,\n    flagCount,\n    resetHighScore,\n    resetHighScores,\n  } = args;\n  let [reset, setReset] = useState(\"\");\n  let [currentSeconds, currentDecimal] = convertTime(time);\n  let [highScoreSeconds, highScoreDecimal] = convertTime(highScore);\n  let isHighScore = time === highScore;\n  return (\n    <>\n      <p className=\"stat\">\n        <span className=\"name\">Flags: </span>\n        <span className=\"value\">{flagCount}</span>\n        <span className=\"decimal\"></span>\n      </p>\n      <p className=\"stat\">\n        <span className=\"name\">Time: </span>\n        <span className=\"value\">{currentSeconds}</span>\n        <span className=\"decimal\">\n          {gameState === \"won\" || gameState === \"lost\"\n            ? \".\" + currentDecimal\n            : \"\"}\n        </span>\n      </p>\n      <p className=\"stat\">\n        <span className=\"name\">High Score: </span>\n        <span className=\"value\">{highScoreSeconds}</span>\n        <span className=\"decimal\">\n          {highScoreDecimal && \".\" + highScoreDecimal}\n        </span>\n      </p>\n      <p>{message(gameState, isHighScore)}</p>\n      {reset === \"\" && (\n        <div className=\"resets\">\n          <button type=\"button\" onClick={() => setReset(\"one\")}>\n            Reset this high score\n          </button>\n          <button type=\"button\" onClick={() => setReset(\"all\")}>\n            Reset all high scores\n          </button>\n        </div>\n      )}\n      {reset === \"one\" && (\n        <ConfirmAndAct\n          txt=\"reset one\"\n          action={() => resetHighScore(m, n, mineCount)}\n          setReset={setReset}\n        />\n      )}\n      {reset === \"all\" && (\n        <ConfirmAndAct\n          txt=\"reset all\"\n          action={resetHighScores}\n          setReset={setReset}\n        />\n      )}\n      <Rules />\n      <Links gitHubLink=\"https://github.com/kr-matthews/minesweeper\" />\n    </>\n  );\n}\n\nexport default Footer;\n","import { useState, useEffect } from \"react\";\n\nimport useTimer from \"./useTimer.js\";\nimport useHighScores from \"./useHighScores.js\";\n\nimport Header from \"./Header.js\";\nimport Field from \"./Field.js\";\nimport Footer from \"./Footer\";\n\nimport { skeletonField } from \"./generateField.js\";\n\nimport \"./css/index.css\";\nimport \"./css/header.css\";\nimport \"./css/field.css\";\nimport \"./css/cell.css\";\nimport \"./css/footer.css\";\n\nfunction App() {\n  // Constants\n\n  // how many mines the field has\n  const [mineCount, setMineCount] = useState(10);\n  // how many non-mine cells have been revealed\n  const [revealCount, setRevealCount] = useState(0);\n  // how many flags are currently placed\n  const [flagCount, setFlagCount] = useState(0);\n  // reset, ongoing, won, lost\n  const [gameState, setGameState] = useState(\"reset\");\n  // each cell is hasMine (t/f), state (show/hide/flag), adjCount (#)\n  const [field, setField] = useState(skeletonField(9, 9));\n  // time how long it takes to solve\n  const { time, handleStart, handleStop, handleReset } = useTimer();\n  // storage for high-scores\n  const {\n    getHighScore,\n    updateHighScore,\n    resetHighScore,\n    resetHighScores,\n  } = useHighScores();\n  // high-score for current field\n  const highScore = getHighScore(field.length, field[0].length, mineCount);\n  // using \"?\"s in addition to flags\n  const [usingQs, setUsingQs] = useState(false);\n  // highlight cells with too many adj falgs?\n  const [usingWarnings, setUsingWarnings] = useState(false);\n\n  // effects\n\n  // check whether game is won\n  useEffect(() => {\n    if (\n      gameState === \"ongoing\" &&\n      revealCount + mineCount === field.length * field[0].length\n    ) {\n      handleStop();\n      setGameState(\"won\");\n      // PROBLEM: highscore is sometimes .01 below final time\n      updateHighScore(field.length, field[0].length, mineCount, time);\n    }\n  }, [\n    revealCount,\n    mineCount,\n    field,\n    handleStop,\n    gameState,\n    updateHighScore,\n    time,\n  ]);\n\n  // return\n\n  return (\n    <>\n      <h1>Minesweeper</h1>\n      <Header\n        args={{\n          setMineCount,\n          setRevealCount,\n          setFlagCount,\n          setGameState,\n          setField,\n          handleReset,\n          usingQs,\n          setUsingQs,\n          usingWarnings,\n          setUsingWarnings,\n        }}\n      />\n      <Field\n        args={{\n          mineCount,\n          gameState,\n          setGameState,\n          field,\n          setField,\n          setRevealCount,\n          setFlagCount,\n          handleStart,\n          handleStop,\n          usingQs,\n          usingWarnings,\n        }}\n      />\n      <Footer\n        args={{\n          m: field.length,\n          n: field[0].length,\n          time,\n          highScore,\n          gameState,\n          mineCount,\n          flagCount,\n          resetHighScore,\n          resetHighScores,\n        }}\n      />\n    </>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}