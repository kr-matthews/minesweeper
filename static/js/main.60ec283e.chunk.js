(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var r=n(2),s=n.n(r),c=n(9),a=n.n(c),u=n(1),i=n(6),o=n(3);function l(e,t){return e[t]}var j=n(4),b=[[-1,1],[0,1],[1,1],[1,0],[1,-1],[0,-1],[-1,-1],[-1,0]];function d(e,t){for(var n=[],r=0;r<e;r++){for(var s=[],c=0;c<t;c++)s.push({state:"hide",adjCount:0});n.push(s)}return n}function f(e,t,n,r,s){var c=function(e,t){for(var n=[],r=0;r<e;r++)r<t?n.push(!0):n.push(!1);return function(e){for(var t=0;t<e.length;t++){var n=m(t,e.length-1),r=[e[n],e[t]];e[t]=r[0],e[n]=r[1]}return e}(n)}(r.length*r[0].length-1,n);!function(e,t){e.splice(t,0,!1)}(c,e*r[0].length+t),function(e,t,n){for(var r=Object(j.a)(t),s=0;s<t.length;s++)for(var c=0;c<t[0].length;c++)r[s][c].hasMine=e[s*t[0].length+c];n(r)}(c,r,s),function(e,t){for(var n=Object(j.a)(e),r=function(t){for(var r=function(r){h(t,r,e.length,e[0].length).forEach((function(s){var c=Object(u.a)(s,2),a=c[0],i=c[1];e[a][i].hasMine&&(n[t][r].adjCount+=1)}))},s=0;s<e[0].length;s++)r(s)},s=0;s<e.length;s++)r(s);t(n)}(r,s)}function h(e,t,n,r){return b.map((function(n){var r=Object(u.a)(n,2),s=r[0],c=r[1];return[e+s,t+c]})).filter((function(e){var t=Object(u.a)(e,2),s=t[0],c=t[1];return 0<=s&&s<n&&0<=c&&c<r}))}function m(e,t){return Math.floor(Math.random()*(t-e+1))+e}var O=n(0);function v(e,t,n,r,s){var c=e.rows,a=e.columns,u=e.mines;r("reset"),t(u),n(0),s(d(c,a))}function p(e,t,n,r,s,c,a,i){var o=a[e][t];if("reset"===s&&(c("ongoing"),f(e,t,n,a,i)),o.hasMine){var l=Object(j.a)(a);l[e][t].state="show",i(l),c("lost")}else"hide"===o.state&&function(e,t,n,r){for(;e.length>0;){var s=e.pop(),c=Object(u.a)(s,2),a=c[0],i=c[1];if("hide"===n[a][i].state){var o=Object(j.a)(n);o[a][i].state="show",r(o),t((function(e){return e+1})),0===n[a][i].adjCount&&h(a,i,n.length,n[0].length).forEach((function(t){var r=Object(u.a)(t,2),s=r[0],c=r[1];"hide"===n[s][c].state&&e.push([s,c])}))}}}([[e,t]],r,a,i)}function g(e){var t=e.args,n=t.rowInd,r=t.colInd,s=t.hasMine,c=t.setRevealCount,a=t.state,u=t.adjCount,i=t.mineCount,o=t.gameState,l=t.setGameState,j=t.field,b=t.setField;return Object(O.jsx)("td",{className:"cell",children:Object(O.jsx)("button",{type:"button",className:"clickable todo",onClick:function(){return p(n,r,i,c,o,l,j,b)},children:"show"===a?s?"M":u:a})})}var x=function(e){var t=e.args,n=t.mineCount,r=t.setRevealCount,s=t.gameState,c=t.setGameState,a=t.field,u=t.setField;return Object(O.jsx)("table",{className:"field",children:Object(O.jsx)("tbody",{children:a.map((function(e,t){return Object(O.jsx)("tr",{children:e.map((function(e,i){return Object(O.jsx)(g,{args:Object(o.a)(Object(o.a)({},e),{},{rowInd:t,colInd:i,mineCount:n,setRevealCount:r,gameState:s,setGameState:c,field:a,setField:u})},i)}))},t)}))})})},w=["Easy","Medium","Hard"],C=["Rows","Columns","Mines"];function y(e,t){var n=t.rows,r=t.columns,s=t.mines;switch(e){case"mines":return 0<=s&&s<n*r;case"rows":return 0<n&&n<=24;case"columns":return 0<r&&r<=30;default:return!1}}function S(e){switch(e){case"easy":return{rows:9,columns:9,mines:10};case"medium":return{rows:16,columns:16,mines:40};case"hard":return{rows:16,columns:30,mines:99};default:return{rows:10,columns:10,mines:99}}}function M(e){var t=e.toLowerCase(),n=S(t);return t+": "+n.rows+"x"+n.columns+", "+n.mines+" mines"}function F(e){switch(e){case"rows":return"Must be between 1 and 24 inclusive.";case"columns":return"Must be between 1 and 30 inclusive.";case"mines":return"Must be fewer mines than cells.";default:return"An unknown error has occured."}}function k(e,t,n,r){var s=l(t,e);(r>0||s>0)&&n(Object(o.a)(Object(o.a)({},t),{},Object(i.a)({},e,s+r)))}function I(e){var t=e.difficulty,n=e.inputs,r=e.setInputs,s=t.toLowerCase();return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("input",{type:"radio",id:s,name:"difficulty",value:s,checked:n.difficulty===s,onChange:function(e){return function(e,t,n){n(Object(o.a)(Object(o.a)({},t),{},{difficulty:e.target.value}))}(e,n,r)}}),Object(O.jsx)("label",{htmlFor:s,children:M(t)})]})}function R(e){var t=e.input,n=e.inputs,r=e.setInputs,s=t.toLowerCase();return Object(O.jsxs)("label",{htmlFor:s,children:[t,":",Object(O.jsx)("button",{type:"button",onClick:function(){return k(s,n,r,-1)},children:"-"}),Object(O.jsx)("input",{type:"text",id:s,name:s,value:l(n,s),onChange:function(e){return function(e,t,n,r){var s=e.target.value,c=+s;(function(e){return""===e||/^[0-9\b]+$/.test(e)})(s)&&n(Object(o.a)(Object(o.a)({},t),{},Object(i.a)({},r,c)))}(e,n,r,s)}}),Object(O.jsx)("button",{type:"button",onClick:function(){return k(s,n,r,1)},children:"+"}),y(s,n)?Object(O.jsx)("span",{style:{color:"green"},children:"\u2713"}):Object(O.jsxs)("span",{className:"toolcontainer",style:{color:"red"},children:["\u2717",Object(O.jsx)("span",{className:"tooltip",children:F(s)})]}),"Mines"===t&&Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"Mine density:"}),n.rows>0&&n.columns>0?Math.round(100*n.mines/(n.rows*n.columns))+"%":"N/A"]})]})}var G=function(e){var t=e.args,n=t.setMineCount,s=t.setRevealCount,c=t.setGameState,a=t.setField,i=Object(r.useState)({rows:9,columns:9,mines:10,difficulty:"easy"}),o=Object(u.a)(i,2),l=o[0],j=o[1];return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("p",{children:"Select a standard difficulty, or specify custom parameters."}),Object(O.jsx)("p",{children:"For a custom game, a mine density between 12% and 20% is recommended."}),w.map((function(e){return Object(O.jsx)(I,{difficulty:e,inputs:l,setInputs:j},e)})),Object(O.jsx)("button",{type:"button",onClick:function(){return function(e,t,n,r,s){v(S(e),t,n,r,s)}(l.difficulty,n,s,c,a)},children:"Start Standard Game"}),Object(O.jsx)("br",{}),C.map((function(e){return Object(O.jsx)(R,{input:e,inputs:l,setInputs:j},e)})),Object(O.jsx)("button",{type:"button",onClick:function(){return function(e,t,n,r,s){C.every((function(t){return y(t.toLowerCase(),e)}))?v(e,t,n,r,s):alert('Invalid parameters. However over red "x"s for details.')}(l,n,s,c,a)},children:"Start Custom Game"})]})};function N(){return Object(O.jsxs)("div",{children:[Object(O.jsx)("h3",{children:"Rules"}),Object(O.jsx)("p",{children:"Do this."}),Object(O.jsx)("p",{children:"Don't do that."})]})}var E=function(){var e=Object(r.useState)(!1),t=Object(u.a)(e,2),n=t[0],s=t[1];return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("button",{type:"button",onClick:function(){return s(!n)},children:n?"Hide Rules":"Show Rules"}),n&&Object(O.jsx)(N,{})]})};var L=function(e){var t=e.args.gameState;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("p",{children:["The game is ",t,"."]}),Object(O.jsx)(E,{})]})};n(15),n(16);var H=function(){var e=Object(r.useState)(10),t=Object(u.a)(e,2),n=t[0],s=t[1],c=Object(r.useState)(0),a=Object(u.a)(c,2),i=a[0],o=a[1],l=Object(r.useState)("reset"),j=Object(u.a)(l,2),b=j[0],f=j[1],h=Object(r.useState)(d(9,9)),m=Object(u.a)(h,2),v=m[0],p=m[1];return Object(r.useEffect)((function(){i+n===v.length*v[0].length&&f("won")}),[i,n,v]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h1",{children:"Minesweeper"}),Object(O.jsx)(G,{args:{setMineCount:s,setRevealCount:o,setGameState:f,setField:p}}),Object(O.jsx)(x,{args:{mineCount:n,gameState:b,setGameState:f,field:v,setField:p,setRevealCount:o}}),Object(O.jsx)(L,{args:{gameState:b}})]})};a.a.render(Object(O.jsx)(s.a.StrictMode,{children:Object(O.jsx)(H,{})}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.60ec283e.chunk.js.map